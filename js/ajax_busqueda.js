function buscar(){const e=new FormData;e.append("apellido",document.querySelector("#apellido").value),e.append("nombre",document.querySelector("#nombre").value),e.append("edad",document.querySelector("#edad").value),e.append("actividad",document.querySelector("#actividad").value),fetch("ajax/ajax_busqueda.php",{method:"POST",body:e}).then((e=>e.json())).then((function(e){let t="",o="";e.foto_rota.length>0&&e.foto_rota.forEach((e=>{o=1==e.baja?'style="text-decoration:line-through;"':"",t+='<tr style="background-color:#fd5757;" onclick="alumno_id('+e.id+",'"+e.apellido+"')\" "+o+">\n                <td>"+e.apellido+"</td>\n                <td>"+e.nombre+"</td>\n                <td>"+e.edad+"</td>\n                <td>"+e.actividad+"</td>\n                </tr>"})),e.datos.length>0||e.foto_rota.length>0?e.datos.forEach((d=>{document.querySelector("#cant_res").textContent=e.datos.length+" resultados.","Familia"==d.vinculo?t+='<tr style="background-color:#96b796;"onclick="alumno_id('+d.id+",'"+d.apellido+'\')">\n                    <td colspan="4">'+d.vinculo+" "+d.apellido+"</td>\n                    </tr>":(o=1==d.baja?'style="text-decoration:line-through;"':"",t+='<tr onclick="alumno_id('+d.id+",'"+d.apellido+"')\" "+o+">\n                    <td>"+d.apellido+"</td>\n                    <td>"+d.nombre+"</td>\n                    <td>"+d.edad+"</td>\n                    <td>"+d.actividad+"</td>\n                    </tr>")})):(document.querySelector("#cant_res").textContent=e.datos.length+" resultados.",t='<th colspan="6" class="text-center">No se encontraron resultados</th>'),document.querySelector("tbody").innerHTML=t})).catch((function(e){console.log(e),alertify.alert("Datos alumnos","Ocurrio un error en la busqueda.")}))}function alumno_id(e,t){window.location.href=0==e?"datos.php?vinculo="+t:"datos.php?id="+e}document.addEventListener("keyup",(function(e){"edad"==e.target.id?(document.querySelector("#apellido").value="",document.querySelector("#nombre").value="",document.querySelector("#actividad").value=""):document.querySelector("#edad").value="",buscar()})),document.addEventListener("click",(function(e){"buscar"==e.target.id&&buscar()})),document.addEventListener("DOMContentLoaded",(function(e){buscar()}));